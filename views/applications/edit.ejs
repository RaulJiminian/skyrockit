<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editing <%= application.title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <%- include('../partials/_navbar.ejs') %>
    <h1>Edit <%= application.title %> at <%= application.company %></h1>

    <form action="/applications/<%= application._id %>?_method=PUT" method="POST">
      <label for="company">Company:</label>
      <input type="text" name="company" id="company" value="<%= application.company %>" />

      <label for="title">Title:</label>
      <input type="text" name="title" id="title" value="<%= application.title %>"/>

      <label for="notes">Notes:</label>
      <textarea name="notes" id="notes"><%= application.notes %></textarea>

      <label for="postingLink">Posting Link:</label>
      <input 
        type="text" 
        name="postingLink" 
        id="postingLink" 
        value="<%= application.postingLink %>" 
      />

      <label for="status">Status:</label>
      <select id="status" name="status">
        <option 
          value="interested" 
          <%= application.status === 'interested' ? 'selected' : '' %>
        >
          Interested
        </option>
        <option <%= application.status === 'applied' ? 'selected' : '' %> value="applied">Applied</option>
        <option <%= application.status === 'interviewing' ? 'selected' : '' %> value="interviewing">Interviewing</option>
        <option <%= application.status === 'rejected' ? 'selected' : '' %> value="rejected">Rejected</option>
        <option <%= application.status === 'accepted' ? 'selected' : '' %> value="accepted">Accepted</option>
      </select>

      <button type="submit">Edit Application</button>
    </form>
  </body>
</html>
